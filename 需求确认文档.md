# 支付宝社交媒体数据爬取项目 - 需求确认文档

## 📋 项目概述

### 项目名称
支付宝社交媒体数据爬取系统

### 项目目标
爬取支付宝在B站和抖音平台的历史动态和发布内容数据，用于数据分析和内容管理。

## 🎯 核心需求

### 1. 目标平台
- **B站（哔哩哔哩）**: https://space.bilibili.com/420831218/dynamic
- **抖音**: https://www.douyin.com/user/MS4wLjABAAAA4rbc75Wk1sycUT5ZT_bMSq31wqxeZp7PLY3ZzCenbIY?from_tab_name=main

### 2. 时间范围
- **起始时间**: 2024年5月1日
- **结束时间**: 2024年11月1日
- **总时长**: 6个月的历史数据

### 3. 爬取内容

#### 3.1 通用数据（所有平台）
- ✅ **文案内容**: 动态/发布的文字内容
- ✅ **互动数据**: 
  - 点赞数量
  - 评论数量
  - 转发数量（适用平台）

#### 3.2 B站特有数据
- ✅ **图片链接**: B站动态中的图片资源链接

## 🛠 技术要求

### 1. 技术栈
- **核心框架**: Selenium WebDriver
- **编程语言**: Python 3.7+
- **数据处理**: pandas, openpyxl
- **文档生成**: python-docx
- **日志记录**: loguru

### 2. 功能要求
- ✅ **模拟浏览器操作**: 使用Selenium模拟真实用户行为
- ✅ **登录功能**: 支持B站登录
- ✅ **数据解析**: 智能解析页面结构，提取目标数据
- ✅ **异常处理**: 完善的错误处理和重试机制
- ✅ **数据存储**: 支持Excel格式导出
- ✅ **文档生成**: 自动生成Word格式的文案内容文档

### 3. 性能要求
- ✅ **稳定性**: 保证长时间运行的稳定性
- ✅ **反爬策略**: 合理的访问频率，避免被封禁
- ✅ **数据完整性**: 确保数据的准确性和完整性

## 📊 输出格式

### 1. 数据格式
- **Excel文件**: 每个平台一个xlsx文件（共2个）
  - B站数据: `bilibili_data.xlsx`
  - 抖音数据: `douyin_data.xlsx`
- **Word文档**: 每个平台一个docx文件（共2个）
  - B站内容: `bilibili_content.docx`
  - 抖音内容: `douyin_content.docx`

### 2. Excel文件结构

#### B站数据表 (bilibili_data.xlsx)
| 字段名 | 数据类型 | 说明 |
|--------|----------|------|
| content_id | String | 内容唯一标识 |
| content_type | String | 内容类型（图文/视频） |
| text_content | Text | 文案内容 |
| publish_time | DateTime | 发布时间 |
| like_count | Integer | 点赞数 |
| comment_count | Integer | 评论数 |
| repost_count | Integer | 转发数 |
| image_urls | Text | 图片链接（多个用分号分隔） |
| platform | String | 平台标识（bilibili） |

#### 抖音数据表 (douyin_data.xlsx)
| 字段名 | 数据类型 | 说明 |
|--------|----------|------|
| content_id | String | 内容唯一标识 |
| content_type | String | 内容类型（视频） |
| text_content | Text | 文案内容 |
| publish_time | DateTime | 发布时间 |
| like_count | Integer | 点赞数 |
| comment_count | Integer | 评论数 |
| share_count | Integer | 分享数 |
| platform | String | 平台标识（douyin） |

### 3. Word文档结构

#### B站内容文档 (bilibili_content.docx)
```
支付宝B站动态内容汇总（2024年5月1日 - 2024年11月1日）

=== 2024年5月 ===
【发布时间】2024-05-XX XX:XX:XX
【文案内容】具体文案内容...

【发布时间】2024-05-XX XX:XX:XX
【文案内容】具体文案内容...

=== 2024年6月 ===
【发布时间】2024-06-XX XX:XX:XX
【文案内容】具体文案内容...

（按月份分组，时间倒序排列）
```

#### 抖音内容文档 (douyin_content.docx)
```
支付宝抖音动态内容汇总（2024年5月1日 - 2024年11月1日）

=== 2024年5月 ===
【发布时间】2024-05-XX XX:XX:XX
【文案内容】具体文案内容...

【发布时间】2024-05-XX XX:XX:XX
【文案内容】具体文案内容...

=== 2024年6月 ===
【发布时间】2024-06-XX XX:XX:XX
【文案内容】具体文案内容...

（按月份分组，时间倒序排列）
```

### 4. 最终交付物
- **Excel文件**: 2个（bilibili_data.xlsx, douyin_data.xlsx）
- **Word文档**: 2个（bilibili_content.docx, douyin_content.docx）
- **总计**: 4个文件

## 📅 开发计划

### Phase 1: 基础框架（已完成）
- [x] 项目结构搭建
- [x] 登录功能实现（B站）
- [x] 环境配置

### Phase 2: B站爬虫开发
- [ ] B站动态页面分析
- [ ] 数据提取逻辑实现
- [ ] 分页处理
- [ ] 数据存储功能

### Phase 3: 抖音爬虫开发
- [ ] 抖音页面分析
- [ ] 数据提取逻辑实现
- [ ] 视频内容处理
- [ ] 数据存储功能


